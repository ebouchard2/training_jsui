webpackJsonpCoveo__temporary([25,69],{16:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),i=function(){function e(){}return e.addClassToSVGInContainer=function(t,o){var n=t.querySelector("svg");n.setAttribute("class",""+e.getClass(n)+o)},e.removeClassFromSVGInContainer=function(t,o){var n=t.querySelector("svg");n.setAttribute("class",e.getClass(n).replace(o,""))},e.addStyleToSVGInContainer=function(e,t){var o=e.querySelector("svg");n.each(t,function(e,t){o.style[t]=e})},e.getClass=function(e){var t=e.getAttribute("class");return t?t+" ":""},e}();t.SVGDom=i},291:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(8),l=o(9),s=o(19),p=o(2),a=o(94),r=o(3),u=o(23),d=o(1),m=o(4);o(493);var h=o(13),c=o(16),g=function(e){function t(o,n,i,s){var p=e.call(this,o,_.ID,i)||this;p.element=o,p.options=n,p.result=s,p.options=l.ComponentOptions.initComponentOptions(o,t,n);var a=r.$$(p.element).findAll("tr[data-field]");return d.each(a,function(e){new _(e,{},i,s)}),null==r.$$(p.element).find("tr")&&r.$$(o).detach(),p.isTogglable()?(p.toggleContainer=r.$$("div",{className:"coveo-field-table-toggle-container"}).el,p.buildToggle(),r.$$(p.toggleContainer).insertBefore(p.element),p.toggleContainer.appendChild(p.element),p.toggleContainer.appendChild(p.toggleButtonInsideTable)):p.isExpanded=!0,p}return n(t,e),t.prototype.toggle=function(e){void 0===e&&(e=!1),this.isTogglable()&&(this.isExpanded=!this.isExpanded,this.isExpanded?this.expand(e):this.minimize(e))},t.prototype.expand=function(e){void 0===e&&(e=!1),this.isTogglable()&&(this.isExpanded=!0,this.toggleCaption.textContent=this.options.expandedTitle,c.SVGDom.addClassToSVGInContainer(this.toggleButtonSVGContainer,"coveo-opened"),c.SVGDom.addClassToSVGInContainer(this.toggleButtonInsideTable,"coveo-opened"),e?this.slideToggle(!0):this.slideToggle(!0,!1))},t.prototype.minimize=function(e){void 0===e&&(e=!1),this.isTogglable()&&(this.isExpanded=!1,this.toggleCaption.textContent=this.options.minimizedTitle,c.SVGDom.removeClassFromSVGInContainer(this.toggleButtonSVGContainer,"coveo-opened"),c.SVGDom.removeClassFromSVGInContainer(this.toggleButtonInsideTable,"coveo-opened"),e?this.slideToggle(!1):this.slideToggle(!1,!1))},t.prototype.updateToggleHeight=function(){this.updateToggleContainerHeight(),this.isExpanded?this.expand():this.minimize()},t.prototype.isTogglable=function(){return!!this.options.allowMinimization},t.prototype.buildToggle=function(){var e=this;this.toggleCaption=r.$$("span",{className:"coveo-field-table-toggle-caption",tabindex:0}).el,this.toggleButton=r.$$("div",{className:"coveo-field-table-toggle coveo-field-table-toggle-down"}).el,this.toggleButtonSVGContainer=r.$$("span",null,h.SVGIcons.icons.arrowDown).el,c.SVGDom.addClassToSVGInContainer(this.toggleButtonSVGContainer,"coveo-field-table-toggle-down-svg"),this.toggleButton.appendChild(this.toggleCaption),this.toggleButton.appendChild(this.toggleButtonSVGContainer),r.$$(this.toggleButton).insertBefore(this.element),this.toggleButtonInsideTable=r.$$("span",{className:"coveo-field-table-toggle coveo-field-table-toggle-up"},h.SVGIcons.icons.arrowUp).el,c.SVGDom.addClassToSVGInContainer(this.toggleButtonInsideTable,"coveo-field-table-toggle-up-svg"),!0===this.options.minimizedByDefault?this.isExpanded=!1:!1===this.options.minimizedByDefault?this.isExpanded=!0:this.isExpanded=!s.QueryUtils.hasExcerpt(this.result),setTimeout(function(){e.updateToggleHeight()});var t=function(){return e.toggle(!0)};r.$$(this.toggleButton).on("click",t),r.$$(this.toggleButtonInsideTable).on("click",t),r.$$(this.toggleButton).on("keyup",u.KeyboardUtils.keypressAction(u.KEYBOARD.ENTER,t))},t.prototype.slideToggle=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),t||r.$$(this.toggleContainer).addClass("coveo-no-transition"),e?(this.toggleContainer.style.display="block",this.toggleContainer.style.height=this.toggleContainerHeight+"px"):(this.toggleContainer.style.height=this.toggleContainerHeight+"px",this.toggleContainer.style.height="0"),t||(this.toggleContainer.offsetHeight,r.$$(this.toggleContainer).removeClass("coveo-no-transition"))},t.prototype.updateToggleContainerHeight=function(){this.toggleContainerHeight=this.toggleContainer.scrollHeight},t.ID="FieldTable",t.doExport=function(){m.exportGlobally({FieldTable:t,FieldValue:a.FieldValue})},t.options={allowMinimization:l.ComponentOptions.buildBooleanOption({defaultValue:!0}),expandedTitle:l.ComponentOptions.buildLocalizedStringOption({defaultValue:"Details",depend:"allowMinimization"}),minimizedTitle:l.ComponentOptions.buildLocalizedStringOption({defaultValue:"Details",depend:"allowMinimization"}),minimizedByDefault:l.ComponentOptions.buildBooleanOption({depend:"allowMinimization"})},t}(i.Component);t.FieldTable=g,p.Initialization.registerAutoCreateComponent(g);var _=function(e){function t(o,n,i,s){var p=e.call(this,o,n,i,s,t.ID)||this;p.element=o,p.options=n,p.result=s,p.options=l.ComponentOptions.initComponentOptions(o,t,n);var a=r.$$("th").el;return a.appendChild(document.createTextNode(p.options.caption.toLocaleString())),p.element.insertBefore(a,p.getValueContainer()),p}return n(t,e),t.prototype.getValueContainer=function(){return null==this.valueContainer&&(this.valueContainer=document.createElement("td"),this.element.appendChild(this.valueContainer)),this.valueContainer},t.ID="ValueRow",t.options={caption:l.ComponentOptions.buildStringOption({postProcessing:function(e,t){return e||t.field.substr(1)}})},t.parent=a.FieldValue,t}(a.FieldValue)},493:function(e,t){},94:function(module,exports,__webpack_require__){"use strict";function showOnlyWithHelper(e,t){return null==t&&(t={}),t.helpers=e,t}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Component_1=__webpack_require__(8),ComponentOptions_1=__webpack_require__(9),Initialization_1=__webpack_require__(2),TemplateHelpers_1=__webpack_require__(70),Assert_1=__webpack_require__(7),DateUtils_1=__webpack_require__(29),QueryStateModel_1=__webpack_require__(14),AnalyticsActionListMeta_1=__webpack_require__(12),Utils_1=__webpack_require__(6),Dom_1=__webpack_require__(3),_=__webpack_require__(1),GlobalExports_1=__webpack_require__(4),StringUtils_1=__webpack_require__(21),FacetUtils_1=__webpack_require__(37),FieldValue=function(_super){function FieldValue(e,t,o,n,i){void 0===i&&(i=FieldValue.ID);var l=_super.call(this,e,i,o)||this;l.element=e,l.options=t,l.result=n,l.options=ComponentOptions_1.ComponentOptions.initOptions(e,FieldValue.simpleOptions,t),null!=l.options.helper&&l.normalizeHelperAndOptions(),l.result=l.result||l.resolveResult(),Assert_1.Assert.exists(l.result);var s=l.getValue();if(null==s)null!=l.element.parentElement&&l.element.parentElement.removeChild(l.element);else{var p=void 0;_.isArray(s)?p=s:l.options.splitValues?_.isString(s)&&(p=_.map(s.split(l.options.separator),function(e){return e.trim()})):(s=s.toString(),p=[s]),l.appendValuesToDom(p),null!=l.options.textCaption&&l.prependTextCaptionToDom()}return l}return __extends(FieldValue,_super),FieldValue.prototype.getValue=function(){var e=Utils_1.Utils.getFieldValue(this.result,this.options.field);return!_.isArray(e)&&_.isObject(e)&&(e=null),e},FieldValue.prototype.renderOneValue=function(e){var t=Dom_1.$$("span").el,o=FacetUtils_1.FacetUtils.tryToGetTranslatedCaption(this.options.field,e);if(this.options.helper){var n=TemplateHelpers_1.TemplateHelpers.getHelper(this.options.helper+"v2")||TemplateHelpers_1.TemplateHelpers.getHelper(""+this.options.helper);Utils_1.Utils.exists(n)?o=n.call(this,e,this.getHelperOptions()):this.logger.warn("Helper "+this.options.helper+" is not found in available helpers. The list of supported helpers is :",_.keys(TemplateHelpers_1.TemplateHelpers.getHelpers()));var i=this.getFullDate(e,this.options.helper);i&&t.setAttribute("title",i),"date"!=this.options.helper&&"dateTime"!=this.options.helper&&"emailDateTime"!=this.options.helper||(o=StringUtils_1.StringUtils.capitalizeFirstLetter(o))}return this.options.htmlValue?t.innerHTML=o:t.appendChild(document.createTextNode(o)),this.bindEventOnValue(t,e),t},FieldValue.prototype.getValueContainer=function(){return this.element},FieldValue.prototype.normalizeHelperAndOptions=function(){var e=this;this.options=ComponentOptions_1.ComponentOptions.initOptions(this.element,FieldValue.helperOptions,this.options);var t=_.keys(FieldValue.options.helperOptions.subOptions),o=_.filter(t,function(t){var o=FieldValue.options.helperOptions.subOptions[t];if(o){var n=o.helpers;return null!=n&&_.contains(n,e.options.helper)}return!1});this.options.helperOptions=_.omit(this.options.helperOptions,function(e,t){return!_.contains(o,t)})},FieldValue.prototype.getHelperOptions=function(){var inlineOptions=ComponentOptions_1.ComponentOptions.loadStringOption(this.element,"helperOptions",{});return Utils_1.Utils.isNonEmptyString(inlineOptions)?_.extend({},this.options.helperOptions,eval("("+inlineOptions+")")):this.options.helperOptions},FieldValue.prototype.getFullDate=function(e,t){var o={useLongDateFormat:!0,useTodayYesterdayAndTomorrow:!1,useWeekdayIfThisWeek:!1,omitYearIfCurrentOne:!1};return"date"==t?DateUtils_1.DateUtils.dateToString(new Date(parseInt(e)),o):"dateTime"==t||"emailDateTime"==t?DateUtils_1.DateUtils.dateTimeToString(new Date(parseInt(e)),o):""},FieldValue.prototype.appendValuesToDom=function(e){var t=this;_.each(e,function(o,n){void 0!=o&&(t.getValueContainer().appendChild(t.renderOneValue(o)),n!==e.length-1&&t.getValueContainer().appendChild(document.createTextNode(t.options.displaySeparator)))})},FieldValue.prototype.renderTextCaption=function(){return Dom_1.$$("span",{className:"coveo-field-caption"},_.escape(this.options.textCaption)).el},FieldValue.prototype.prependTextCaptionToDom=function(){var e=this.getValueContainer();Dom_1.$$(e).prepend(this.renderTextCaption()),Dom_1.$$(e).addClass("coveo-with-label")},FieldValue.prototype.bindEventOnValue=function(e,t){var o=this,n=QueryStateModel_1.QueryStateModel.getFacetId(this.options.facet),i=_.filter(this.componentStateModel.get(n),function(e){var t=!0,o=Component_1.Component.getComponentRef("FacetRange"),n=Component_1.Component.getComponentRef("FacetSlider");return!e.disabled&&(t&&o&&(t=!(e instanceof o)),t&&n&&(t=!(e instanceof n)),t)});if(i.length>0){var l=_.find(i,function(e){var o=e.values.get(t);return o&&o.selected});Dom_1.$$(e).on("click",function(){null!=l?_.each(i,function(e){return e.deselectValue(t)}):_.each(i,function(e){return e.selectValue(t)}),o.queryController.deferExecuteQuery({beforeExecuteQuery:function(){return o.usageAnalytics.logSearchEvent(AnalyticsActionListMeta_1.analyticsActionCauseList.documentField,{facetId:o.options.facet,facetValue:t.toLowerCase()})}})}),l&&Dom_1.$$(e).addClass("coveo-selected"),Dom_1.$$(e).addClass("coveo-clickable")}},FieldValue.ID="FieldValue",FieldValue.doExport=function(){GlobalExports_1.exportGlobally({FieldValue:FieldValue})},FieldValue.options={field:ComponentOptions_1.ComponentOptions.buildFieldOption({defaultValue:"@field",required:!0}),facet:ComponentOptions_1.ComponentOptions.buildStringOption({postProcessing:function(e,t){return e||t.field}}),htmlValue:ComponentOptions_1.ComponentOptions.buildBooleanOption({defaultValue:!1}),splitValues:ComponentOptions_1.ComponentOptions.buildBooleanOption({defaultValue:!1}),separator:ComponentOptions_1.ComponentOptions.buildStringOption({depend:"splitValues",defaultValue:";"}),displaySeparator:ComponentOptions_1.ComponentOptions.buildStringOption({depend:"splitValues",defaultValue:", "}),helper:ComponentOptions_1.ComponentOptions.buildHelperOption(),helperOptions:ComponentOptions_1.ComponentOptions.buildObjectOption({subOptions:{text:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["anchor"])),target:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["anchor"])),class:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["anchor"])),decimals:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["currency"],{min:0})),symbol:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["currency"])),useTodayYesterdayAndTomorrow:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),useWeekdayIfThisWeek:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),omitYearIfCurrentOne:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),useLongDateFormat:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!1})),includeTimeIfToday:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),includeTimeIfThisWeek:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!0})),alwaysIncludeTime:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"],{defaultValue:!1})),predefinedFormat:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["date","dateTime","emailDateTime","time"])),companyDomain:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["email"])),me:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["email"])),lengthLimit:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["email"],{min:1})),truncateName:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["email"])),alt:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["image"])),height:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["image"])),width:ComponentOptions_1.ComponentOptions.buildStringOption(showOnlyWithHelper(["image"])),precision:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["size"],{min:0,defaultValue:2})),base:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["size"],{min:0,defaultValue:0})),isMilliseconds:ComponentOptions_1.ComponentOptions.buildBooleanOption(showOnlyWithHelper(["timeSpan"])),length:ComponentOptions_1.ComponentOptions.buildNumberOption(showOnlyWithHelper(["shorten","shortenPath","shortenUri"],{defaultValue:200}))}}),textCaption:ComponentOptions_1.ComponentOptions.buildLocalizedStringOption()},FieldValue.simpleOptions=_.omit(FieldValue.options,"helperOptions"),FieldValue.helperOptions={helperOptions:FieldValue.options.helperOptions},FieldValue}(Component_1.Component);exports.FieldValue=FieldValue,Initialization_1.Initialization.registerAutoCreateComponent(FieldValue)}});